<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Sarang Jaiswal - Security Testing</title><link href="https://www.sarangjaiswal.com/" rel="alternate"></link><link href="https://www.sarangjaiswal.com/feeds/security-testing.atom.xml" rel="self"></link><id>https://www.sarangjaiswal.com/</id><updated>2018-12-26T00:00:00-06:00</updated><subtitle>Automation Architect</subtitle><entry><title>AJAX Spider with Authentication using OWASP ZAP</title><link href="https://www.sarangjaiswal.com/ajax-spider-with-authentication-using-owasp-zap.html" rel="alternate"></link><published>2018-12-26T00:00:00-06:00</published><updated>2018-12-26T00:00:00-06:00</updated><author><name>Sarang Jaiswal</name></author><id>tag:www.sarangjaiswal.com,2018-12-26:/ajax-spider-with-authentication-using-owasp-zap.html</id><summary type="html">&lt;p&gt;&lt;img alt="OWASP ZAP LOGO" src="https://www.owasp.org/images/1/11/Zap128x128.png"&gt;&lt;/p&gt;
&lt;p&gt;In this article, I will be explaining basic steps on how to configure OWASP ZAP - AJAX Spider with Authentication. I will be covering following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Identify a Test URL/Website to Test&lt;/li&gt;
&lt;li&gt;Add Test Website in Default Context&lt;/li&gt;
&lt;li&gt;Login to Web Application to estabilish HTTP Session&lt;/li&gt;
&lt;li&gt;Mark Logout link as Out …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="OWASP ZAP LOGO" src="https://www.owasp.org/images/1/11/Zap128x128.png"&gt;&lt;/p&gt;
&lt;p&gt;In this article, I will be explaining basic steps on how to configure OWASP ZAP - AJAX Spider with Authentication. I will be covering following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Identify a Test URL/Website to Test&lt;/li&gt;
&lt;li&gt;Add Test Website in Default Context&lt;/li&gt;
&lt;li&gt;Login to Web Application to estabilish HTTP Session&lt;/li&gt;
&lt;li&gt;Mark Logout link as Out of Context&lt;/li&gt;
&lt;li&gt;Set HTTP Session as Active&lt;/li&gt;
&lt;li&gt;Attack the URL using AJAX Spider&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Prerequisite&lt;/strong&gt;: Before we begin with AJAX Spider, please go through the following article to make sure that ZAP Proxy is configured properly. We will be using Firefox in this example.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.sarangjaiswal.com/configuring-owasp-zap-proxy-to-trace-browser-traffic.html#configuring-owasp-zap-proxy-to-trace-browser-traffic"&gt; Configuring OWASP ZAP Proxy To Trace Browser Traffic&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;AJAX Spider with Authentication using OWASP ZAP&lt;/h2&gt;
&lt;h4&gt;Step 1: Identify a Test URL/Website to Test&lt;/h4&gt;
&lt;p&gt;In this example we will be using https://www.webpagetest.org/&lt;/p&gt;
&lt;p&gt;Make sure you have configured the Zap Proxy so that ZAP can listen to HTTP Request and Response between the Firefox browser and this URL. Also make sure you have permission to test and attack the URL using AJAX Spider. The website which I am demoing in this artile is just an example.&lt;/p&gt;
&lt;h4&gt;Step 2: Add Test Website in Default Context&lt;/h4&gt;
&lt;p&gt;Contexts in simple terms corresponds to Web Application and are is way of relating a set of URLs together. &lt;/p&gt;
&lt;p&gt;Right click menu items in the Sites and navigate to &lt;code&gt;Include in Context =&amp;gt; Default Context&lt;/code&gt;
&lt;img alt="Zap Add Website to Context" src="./images/ZapAddToContext1.png"&gt;&lt;/p&gt;
&lt;p&gt;Notice that the URL is now added to the Default Context
&lt;img alt="Zap Add Website to Context" src="./images/ZapAddToContext2.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 3: Login to Web Application to estabilish HTTP Session&lt;/h4&gt;
&lt;p&gt;Navigate back to Firefox browser and login into the website to establish a HTTP session &lt;/p&gt;
&lt;p&gt;&lt;img alt="Login into WebPageTest website" src="./images/WebPageTestLogin1.png"&gt;
&lt;img alt="Login into WebPageTest website" src="./images/WebPageTestLogin2.png"&gt;&lt;/p&gt;
&lt;p&gt;Once the session is established, go back to ZAP. You will notice that ZAP has identified the active session.&lt;/p&gt;
&lt;p&gt;Navigate to &lt;code&gt;HTTP Sessions =&amp;gt; Sites&lt;/code&gt; and select appropriate site. You will notice a session  token is already captured by ZAP&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP HTTP Session" src="./images/ZapHttpSession.png"&gt; &lt;/p&gt;
&lt;p&gt;If you are unable to find any thing under HTTP Sessions then go to &lt;code&gt;Params&lt;/code&gt; tab, select the appropriate site. 
Here you should find the cookies which is responsible for maintaining the session. Right click on the cookie and &lt;code&gt;flag it as session token&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In my example since the cookie was automatically found, it’s already present in the HTTP Sessions tab.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP Params" src="./images/ZapParams.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 4: Mark Logout link as Out of Context&lt;/h4&gt;
&lt;p&gt;Marking the logout link as out of context will help maintain the session throughout this test. &lt;/p&gt;
&lt;p&gt;Right click on menu items in Site and navigate to &lt;code&gt;Exclude from Context =&amp;gt; Default Context&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP Remove link from context" src="./images/ZapRemoveFromContext1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP Remove link from context" src="./images/ZapRemoveFromContext2.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 5: Set HTTP Session as Active&lt;/h4&gt;
&lt;p&gt;Navigate to &lt;code&gt;HTTP Session&lt;/code&gt; and right click on the Session Token and click on &lt;code&gt;Set as active&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Set Session Token as active" src="./images/ZapSetAsActive1.png"&gt;
Notice the &lt;code&gt;Green Checkmark&lt;/code&gt; indicating that the session is active.
&lt;img alt="Zap Set Session Token as active" src="./images/ZapSetAsActive2.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 6: Attack the URL using AJAX Spider&lt;/h4&gt;
&lt;p&gt;After all the configuration, its time to now attack the URL using OWASP ZAP AJAX Spider. To Perform that Right Click on the Site and navigate to &lt;code&gt;Attack =&amp;gt; AJAX Spider&lt;/code&gt; and click on &lt;code&gt;Start Scan&lt;/code&gt; button.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP AJAX Spider" src="./images/ZapAjaxSpider1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZAP AJAX Spider" src="./images/ZapAjaxSpider2.png"&gt;&lt;/p&gt;</content><category term="OWASP ZAP"></category><category term="Zed Attack Proxy"></category><category term="OWASP"></category><category term="Security"></category><category term="AJAX Spider"></category></entry><entry><title>Configuring OWASP ZAP Proxy To Trace Browser Traffic.</title><link href="https://www.sarangjaiswal.com/configuring-owasp-zap-proxy-to-trace-browser-traffic.html" rel="alternate"></link><published>2018-12-21T00:00:00-06:00</published><updated>2018-12-21T00:00:00-06:00</updated><author><name>Sarang Jaiswal</name></author><id>tag:www.sarangjaiswal.com,2018-12-21:/configuring-owasp-zap-proxy-to-trace-browser-traffic.html</id><summary type="html">&lt;p&gt;&lt;img alt="OWASP ZAP LOGO" src="https://www.owasp.org/images/1/11/Zap128x128.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/zaproxy/zaproxy"&gt;OWASP Zed Attach Proxy (ZAP)&lt;/a&gt; is an open source free security tool which is being actively maintained. It helps automatically find security vulnerabilities in your web application by intercepting the traffic between your web browser and application.&lt;/p&gt;
&lt;p&gt;In this article, I will be explaining basic steps on how to configure …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img alt="OWASP ZAP LOGO" src="https://www.owasp.org/images/1/11/Zap128x128.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/zaproxy/zaproxy"&gt;OWASP Zed Attach Proxy (ZAP)&lt;/a&gt; is an open source free security tool which is being actively maintained. It helps automatically find security vulnerabilities in your web application by intercepting the traffic between your web browser and application.&lt;/p&gt;
&lt;p&gt;In this article, I will be explaining basic steps on how to configure ZAP Proxy to trace the browser traffic. I will be covering following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setting ZAP local proxy&lt;/li&gt;
&lt;li&gt;Generating &amp;amp; Saving Root CA Certificate&lt;/li&gt;
&lt;li&gt;Configure CA Certificate in Firefox&lt;/li&gt;
&lt;li&gt;Configure Proxy in Firefox&lt;/li&gt;
&lt;li&gt;Testing ZAP Proxy Configuration&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Configuring ZAP Proxy To Trace Browser Traffic&lt;/h2&gt;
&lt;h4&gt;Step 1: Setting ZAP Local Proxy&lt;/h4&gt;
&lt;p&gt;Goto &lt;code&gt;Tool =&amp;gt; Options =&amp;gt; Local Proxies&lt;/code&gt; and set the hostname/ip address and port number for the proxy. In this example, the port is set to 8080 which is selected randomly. Make sure this port is not user by any other application.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Proxy 1" src="./images/ZapProxy1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Proxy 2" src="./images/ZapProxy2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Proxy 3" src="./images/ZapProxy3.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 2: Generate &amp;amp; Save Root CA Certificate&lt;/h4&gt;
&lt;p&gt;Goto &lt;code&gt;Tool =&amp;gt; Options =&amp;gt; Dynamic SSL Certificates&lt;/code&gt; and click on &lt;code&gt;Generate&lt;/code&gt; button to generate a new Root CA Certificate. Save the newly generated certificate on your hard drive&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Certificate 1" src="./images/ZapCertificate1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Certificate 2" src="./images/ZapCertificate2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Certificate 3" src="./images/ZapCertificate3.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Certificate 4" src="./images/ZapCertificate4.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Zap Certificate 5" src="./images/ZapCertificate5.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 3: Configure CA Certifcate in Firefox&lt;/h4&gt;
&lt;p&gt;Goto &lt;code&gt;Settings =&amp;gt; Options =&amp;gt; Privacy &amp;amp; Security =&amp;gt; Certificate =&amp;gt; View Certificates =&amp;gt; Import&lt;/code&gt; and import the newly downloaded Root CA Certificate. &lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 1" src="./images/FirefoxCertificate1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 2" src="./images/FirefoxCertificate2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 3" src="./images/FirefoxCertificate3.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 4" src="./images/FirefoxCertificate4.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 5" src="./images/FirefoxCertificate5.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 6" src="./images/FirefoxCertificate6.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Certificate 7" src="./images/FirefoxCertificate7.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 4: Configure Proxy in Firefox&lt;/h4&gt;
&lt;p&gt;Goto &lt;code&gt;Settings =&amp;gt; Preferences =&amp;gt; General =&amp;gt; Network Proxy =&amp;gt; Settings =&amp;gt; Manual Proxy Configuration&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Proxy" src="./images/FirefoxProxy1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Proxy" src="./images/FirefoxProxy2.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Firefox Proxy" src="./images/FirefoxProxy3.png"&gt;&lt;/p&gt;
&lt;h4&gt;Step 5: Testing ZAP Proxy Configuration&lt;/h4&gt;
&lt;p&gt;Once the Proxy &amp;amp; Certificate is set properly, when you navigate to the website, you will start noticing the HTTP Response &amp;amp; Request.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Testing ZAP Proxy" src="./images/ZapProxyTest1.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Testing ZAP Proxy" src="./images/ZapProxyTest2.png"&gt;&lt;/p&gt;</content><category term="OWASP ZAP"></category><category term="Zed Attack Proxy"></category><category term="OWASP"></category><category term="Security"></category></entry></feed>